import{R as e,j as k,W as C}from"./react.82c093c3.js";import{c as u,a as L,L as _,E as $}from"./fzj.8815354f.js";import{A as d}from"./index.427c8e08.js";import{h as m,f as b,r as j,d as F}from"./index.052fed19.js";import"./lodash.71f9f2ff.js";import"./graphql.ee8eee84.js";const x=({data:t})=>e.createElement("div",{className:"comment-replies"},t.edges.map(({node:a},n)=>e.createElement("div",{key:+n},e.createElement(d,{className:"comment-replies-author",avatar:a.author.avatarUrl,name:a.author.login,onClick:()=>m(a.author.url)}),e.createElement("div",{className:"comment-replies-body",dangerouslySetInnerHTML:{__html:a.bodyHTML}})))),H=({data:t})=>{const{author:a,replies:n}=t;return e.createElement("div",{className:"comment-item",key:t.id},e.createElement(d,{className:"comment-author",avatar:a.avatarUrl,name:a.login,onClick:()=>m(a.url)}),e.createElement("div",{className:"comment-body"},e.createElement("div",{className:"comment-main",dangerouslySetInnerHTML:{__html:t.bodyHTML}}),e.createElement(x,{data:n})))};var I=H;const p=({type:t,date:a})=>e.createElement("div",{className:"post-date"},e.createElement("b",null,t==="create"?"\u{1F4C5}":"\u{1F504}"),e.createElement("span",null,b(a)));p.defaultProps={type:"create"};var i=p;const M=({className:t,emoji:a,count:n})=>e.createElement("span",{className:u("fzj-reaction",t)},e.createElement("span",{className:"emoji"},a),e.createElement("span",{className:"count"},n));var T=M,A="/assets/woap.99c96107.svg";function U(){var o;const{issues:t}=k(),{data:a,loading:n,error:E}=L(t);if(n)return e.createElement(_,null);if(E)return e.createElement($,{type:"issues",issues:t});if(!a)return null;const{title:l,bodyHTML:v,comments:c,reactions:N,category:g,labels:r,createdAt:y,updatedAt:h}=a,f=()=>{window.open(`${window.location.origin}/posts/issues-${t.toString().padStart(4,"0")}`,"__blank")},w=(o=r==null?void 0:r.edges)==null?void 0:o.some(({node:s})=>["wechat-link","wechat-post","\u5FAE\u4FE1\u6742\u8C08"].includes(s.name));return e.createElement("div",{className:u("issues-view",g.name.toLocaleLowerCase())},e.createElement(C,null,e.createElement("title",null,"\u6D6E\u4E4B\u9759\uFF5C",l)),e.createElement("div",{className:"post markdown-body"},e.createElement("div",{className:"fzj-post"},w&&e.createElement("img",{className:"woap",src:A,alt:"woap",onClick:f}),e.createElement("h1",{className:"title",onClick:()=>m(F(t))},e.createElement("span",null,e.createElement("span",{className:"issues"},"#",t),e.createElement("span",null,l))),e.createElement("div",{className:"date"},e.createElement(i,{date:y}),e.createElement(i,{type:"update",date:h})),e.createElement("div",{className:"status"},j(N.edges).map(s=>e.createElement(T,{key:s[0],emoji:s[0],count:s[1]}))),e.createElement("div",{dangerouslySetInnerHTML:{__html:v}})),c.edges.length>0&&e.createElement("div",{className:"fzj-comment"},c.edges.map(({node:s})=>e.createElement(I,{key:s.id,data:s})))))}export{U as default};
